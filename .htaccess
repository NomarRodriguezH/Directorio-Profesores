<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirigir todas las solicitudes .php a versi贸n sin extensi贸n (301 permanente)
    RewriteCond %{THE_REQUEST} \s/+(.*?/)?(.+?)\.php[\s?] [NC]
    RewriteRule ^ /%1%2 [R=301,L,NE]

    # Reescribir internamente URLs sin .php a su versi贸n con .php
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME}\.php -f
    RewriteRule ^(.+?)/?$ $1.php [L]

    # Excluir assets y otros directorios
    RewriteRule ^(assets|includes|src|paginas)/ - [L,NC]


    # Reglas para gesti贸n de archivos
    RewriteRule ^profesores/archivos$ profesores/archivos/gestionar.php [L]
    RewriteRule ^profesores/archivos/subir$ profesores/archivos/subir.php [L]
    RewriteRule ^profesores/archivos/eliminar$ profesores/archivos/eliminar.php [L]
    RewriteRule ^profesores/archivos/descargar$ profesores/archivos/descargar.php [L]
    RewriteRule ^profesores/archivos/actualizar-descripcion$ profesores/archivos/actualizar_descripcion.php [L]
</IfModule>